<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>E-Way Bill</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            margin: 40px;
            color: #000;
            font-size: 11px;
            line-height: 1.4;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: 28px;
            font-weight: bold;
            margin: 0 0 10px 0;
        }

        .qr-code {
            text-align: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-weight: bold;
            font-size: 21px;
            margin-top: 5px;
            margin-bottom: 5px;
        }

        .separator {
            border-bottom: 2px solid #000;
            margin: 10px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 5px;
        }

        td {
            padding: 4px 2px;
            vertical-align: top;
        }

        .label {
            width: 25%;
            font-weight: normal;
            font-size: 13px;
        }

        .value {
            font-weight: bold;
            font-size: 13px;
        }

        .part-a-table td {
            padding-bottom: 8px;
        }
    </style>
</head>

<body>

    <div class="header">
        <h1>e-Way Bill</h1>
        {{#if irnQrImageUrl}}
        <div class="qr-code">
            <img src="{{irnQrImageUrl}}" alt="IRN QR Code" width="160" height="160">
        </div>
        {{/if}}
    </div>

    <!-- E-Way Bill Details Section -->
    <table>
        <tr>
            <td class="label">E-Way Bill No :</td>
            <td class="value">{{eway_bill_no}}</td>
        </tr>
        <tr>
            <td class="label">E-Way Bill Date :</td>
            <td class="value">{{formatted_eway_bill_date}}</td>
        </tr>
        <tr>
            <td class="label">Generated By :</td>
            <td class="value">{{address.bill_from_address.gst_number}}</td>
        </tr>
        <tr>
            <td class="label">Valid From :</td>
            <td class="value">{{formatted_eway_bill_date}}</td>
        </tr>
        <tr>
            <td class="label">Valid Until :</td>
            <td class="value">{{formatted_eway_bill_valid_upto}}</td>
        </tr>
    </table>

    <div class="separator"></div>

    {{#if irnQrImageUrl}}
    <!-- IRN Details (only when IRN is generated) -->
    <div class="section-title">IRN Details</div>
    <table>
        <tr>
            <td class="label">IRN No :</td>
            <td class="value" style="word-break: break-all;">{{irn_number}}</td>
        </tr>
        <tr>
            <td class="label">Ack. No :</td>
            <td class="value">{{acknowledgement_number}}</td>
        </tr>
        <tr>
            <td class="label">Ack. Date :</td>
            <td class="value">{{formatted_ack_date}}</td>
        </tr>
    </table>

    <div class="separator"></div>
    {{/if}}

    <!-- Part-A -->
    <div class="section-title">Part-A</div>
    <table class="part-a-table">
        <!-- Supplier -->
        <tr>
            <td class="label">GSTN Of Supplier :</td>
            <td class="value">
                {{address.bill_from_address.gst_number}}<br>
            </td>
        </tr>
        <tr>
            <td class="label">Place Of Dispatch :</td>
            <td class="value">{{address.dispatch_from_address.address}}, {{address.dispatch_from_address.country}},
                {{address.dispatch_from_address.state}}, {{address.dispatch_from_address.pincode}}</td>
        </tr>

        <!-- Recipient -->
        <tr>
            <td class="label">GSTN Of Recipient :</td>
            <td class="value">
                {{customer_details.gst_number}}<br>
                {{customer_details.company_name}}
            </td>
        </tr>
        <tr>
            <td class="label">Place Of Delivery :</td>
            <td class="value">{{address.ship_to_address.address}}, {{address.ship_to_address.country}},
                {{address.ship_to_address.state}}, {{address.ship_to_address.pincode}}</td>
        </tr>

        <!-- Doc Details -->
        <tr>
            <td class="label">Document No :</td>
            <td class="value">{{invoice_no}}</td>
        </tr>
        <tr>
            <td class="label">Document Date :</td>
            <td class="value">{{formatted_doc_date}}</td>
        </tr>
        <tr>
            <td class="label">Transaction Type :</td>
            <td class="value">{{transaction_type_display}}</td>
        </tr>
        <tr>
            <td class="label">Value Of Goods :</td>
            <td class="value">{{final_total_amount}}</td>
        </tr>
        <tr>
            <td class="label">HSN Code :</td>
            <td class="value">
                {{#each dispatch_items_details}}
                {{hsn_number}} : {{item_name}}<br>
                {{/each}}
            </td>
        </tr>
        <tr>
            <td class="label">Reason For Transportation :</td>
            <td class="value">{{reason_for_transport}}</td>
        </tr>
        <tr>
            <td class="label">Transporter :</td>
            <td class="value">{{transporter_display}}</td>
        </tr>
    </table>

    <div class="separator"></div>

</body>

</html>